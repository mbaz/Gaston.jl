<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Usage Notes and FAQ · Gaston.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Gaston.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../introduction/">Introduction to plotting</a></li><li><a class="tocitem" href="../2dplots/">2-D plotting tutorial</a></li><li><a class="tocitem" href="../3dplots/">3-D plotting tutorial</a></li><li><a class="tocitem" href="../extending/">Extending Gaston</a></li><li><a class="tocitem" href="../figures/">Managing multiple figures</a></li><li><span class="tocitem">Gallery</span><ul><li><a class="tocitem" href="../2d-gallery/">2-D Plots</a></li><li><a class="tocitem" href="../3d-gallery/">3-D Plots</a></li></ul></li><li class="is-active"><a class="tocitem" href>Usage Notes and FAQ</a><ul class="internal"><li><a class="tocitem" href="#How-to-set-the-terminal-1"><span>How to set the terminal</span></a></li><li><a class="tocitem" href="#What-settings-are-available-in-Gaston?-1"><span>What settings are available in Gaston?</span></a></li><li><a class="tocitem" href="#How-to-plot-text-or-sixels?-1"><span>How to plot text or sixels?</span></a></li><li class="toplevel"><a class="tocitem" href="#How-to-configure-plot-size-in-Documenter.jl,-IJulia,-etc?-1"><span>How to configure plot size in Documenter.jl, IJulia, etc?</span></a></li><li><a class="tocitem" href="#I-run-plot-inside-a-for-loop-and-no-plots-are-produced!-(or:-Julia&#39;s-display-system)-1"><span>I run <code>plot</code> inside a <code>for</code> loop and no plots are produced! (or: Julia&#39;s display system)</span></a></li><li><a class="tocitem" href="#How-does-gnuplot-report-errors?-1"><span>How does gnuplot report errors?</span></a></li><li><a class="tocitem" href="#Support-1"><span>Support</span></a></li><li><a class="tocitem" href="#Contributing-1"><span>Contributing</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Usage Notes and FAQ</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Usage Notes and FAQ</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mbaz/Gaston.jl/blob/master/docs/src/faq.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Usage-notes-and-FAQ-1"><a class="docs-heading-anchor" href="#Usage-notes-and-FAQ-1">Usage notes and FAQ</a><a class="docs-heading-anchor-permalink" href="#Usage-notes-and-FAQ-1" title="Permalink"></a></h1><h2 id="How-to-set-the-terminal-1"><a class="docs-heading-anchor" href="#How-to-set-the-terminal-1">How to set the terminal</a><a class="docs-heading-anchor-permalink" href="#How-to-set-the-terminal-1" title="Permalink"></a></h2><p>Gnuplot supports a huge amount of terminals. Most modern gnuplot installations should support the <code>qt</code> terminal. A different terminal can be selected with</p><pre><code class="language-none">set(term = t::String)</code></pre><p>where <code>newterm</code> is the desired terminal. Most terminals accept a configuration string, which can be set with</p><pre><code class="language-none">set(termopts = opt::String)</code></pre><p>For example, to set the font on the qt terminal to Consolas size 11, one could do</p><pre><code class="language-none">set(term = &quot;qt&quot;)  # not needed in most installations
set(termpts = &quot;font &#39;Consolas,11&#39;)</code></pre><div class="admonition is-info"><header class="admonition-header">Choosing a terminal on Windows</header><div class="admonition-body"><p>On Windows, Gaston selects the <code>windows</code> terminal by default. Changing the terminal is not recommended, since they tend to be very slow and have other issues (for example, see <a href="https://github.com/mbaz/Gaston.jl/issues/136">here</a> and <a href="https://sourceforge.net/p/gnuplot/bugs/2279/">here</a>).</p></div></div><h2 id="What-settings-are-available-in-Gaston?-1"><a class="docs-heading-anchor" href="#What-settings-are-available-in-Gaston?-1">What settings are available in Gaston?</a><a class="docs-heading-anchor-permalink" href="#What-settings-are-available-in-Gaston?-1" title="Permalink"></a></h2><p>The <code>set</code> command can be used to configure Gaston&#39;s behavior. The following settings are available:</p><table><tr><th style="text-align: left">Setting</th><th style="text-align: left">Purpose</th></tr><tr><td style="text-align: left">term</td><td style="text-align: left">Sets gnuplot&#39;s terminal.</td></tr><tr><td style="text-align: left">termopts</td><td style="text-align: left">Sets the terminal&#39;s options.</td></tr><tr><td style="text-align: left">mode</td><td style="text-align: left">If set to &quot;null&quot;, plots are not shown.</td></tr><tr><td style="text-align: left">preamble</td><td style="text-align: left">A string that is sent to gnuplot for every plot.</td></tr><tr><td style="text-align: left">debug</td><td style="text-align: left">If set to <code>true</code>, all data sent to gnuplot is printed on the screen.</td></tr><tr><td style="text-align: left">saveopts</td><td style="text-align: left">A string that specifies options when saving a plot.</td></tr><tr><td style="text-align: left">showable</td><td style="text-align: left">For IJulia, Documenter.jl, Juno and similar uses. Defaults to <code>&quot;png&quot;</code>; all plots are generated in PNG format only. Set to <code>&quot;svg&quot;</code> to enable SVG plots, or <code>&quot;png+svg&quot;</code> to enable both.</td></tr><tr><td style="text-align: left">timeout</td><td style="text-align: left">How long Gaston waits for gnuplot to complete a plot. Defaults to 10 seconds (20 on Windows and Mac); you may need to set it higher if your computer is slow or you&#39;re plotting lots of data.</td></tr></table><h2 id="How-to-plot-text-or-sixels?-1"><a class="docs-heading-anchor" href="#How-to-plot-text-or-sixels?-1">How to plot text or sixels?</a><a class="docs-heading-anchor-permalink" href="#How-to-plot-text-or-sixels?-1" title="Permalink"></a></h2><p>Plots can be rendered using text on the console by setting the terminal to <code>dumb</code>:</p><pre><code class="language-julia">using Gaston  # hide
set(reset=true)  # hide
set(term = &quot;dumb&quot;, termopts = &quot;size 80,25 ansirgb&quot;)
t = -5:0.1:5
plot(t, sin);
plot!(t, cos)</code></pre><p><img src="../assets/dumb.png" alt/></p><p>To plot with sixels, use</p><pre><code class="language-none">set(term = &quot;sixelgd&quot;)</code></pre><p>A terminal that supports sixels is required (for example, xterm in mode vt340 (invoked as <code>xterm -ti vt340</code>).</p><p><img src="../assets/sixels.png" alt/></p><h1 id="How-to-configure-plot-size-in-Documenter.jl,-IJulia,-etc?-1"><a class="docs-heading-anchor" href="#How-to-configure-plot-size-in-Documenter.jl,-IJulia,-etc?-1">How to configure plot size in Documenter.jl, IJulia, etc?</a><a class="docs-heading-anchor-permalink" href="#How-to-configure-plot-size-in-Documenter.jl,-IJulia,-etc?-1" title="Permalink"></a></h1><p>In these environments, the front-end chooses among all supported MIME types. Gaston supports PNG and SVG images. Some of these front-ends, though, ask Gaston to produce plots in both formats, and then choose SVG. This is a waste of resources, and combined with the fact that plots in SVG format can grow very large, it is recommeded to configure Gaston to produce only PNG files. This is achieved with</p><pre><code class="language-none">set(ijulia = &quot;png&quot;)</code></pre><p>The <code>png</code> terminal can be configured with</p><pre><code class="language-none">set(termopts=...)</code></pre><p>For example, the plots in this document are created with these settings:</p><pre><code class="language-none">set(termopts=&quot;size 550,325 font &#39;Consolas,11&#39;&quot;)</code></pre><h2 id="I-run-plot-inside-a-for-loop-and-no-plots-are-produced!-(or:-Julia&#39;s-display-system)-1"><a class="docs-heading-anchor" href="#I-run-plot-inside-a-for-loop-and-no-plots-are-produced!-(or:-Julia&#39;s-display-system)-1">I run <code>plot</code> inside a <code>for</code> loop and no plots are produced! (or: Julia&#39;s display system)</a><a class="docs-heading-anchor-permalink" href="#I-run-plot-inside-a-for-loop-and-no-plots-are-produced!-(or:-Julia&#39;s-display-system)-1" title="Permalink"></a></h2><p>Julia separates the calculation of a result from the display of the result (see <a href="https://docs.julialang.org/en/v1/manual/types/#man-custom-pretty-printing-1">custom pretty-printing</a> and <a href="https://docs.julialang.org/en/v1/base/io-network/#Multimedia-I/O-1">multimedia I/O</a> in Julia&#39;s documentation). This mechanism is very powerful; in Gaston, it enables plotting to the REPL, Jupyter, Juno, or in Documenter.jl with just a few lines of code. In other words, plotting is not a side effect of running <code>plot</code>, the way it is in, say, Matlab; rather, a plot is produced when a result of type <code>Gaston.Figure</code> is returned by some code.</p><p>While elegant and powerful, this mechanism can also be surprising if you&#39;re used to side-effect plotting. None of the following code samples display any plots:</p><pre><code class="language-julia">y = rand(20)
plot(y);  # note the final ; suppreses displaying the result</code></pre><pre><code class="language-julia"># nothing is returned by the for loop
for k = 1:5
    plot(k*y)
end</code></pre><pre><code class="language-julia"># function that does not return a figure
function f(y)
    plot(sin.(y))
    println(&quot;Sum = $(sum(y))&quot;)
end</code></pre><p>The common problem in the code samples above is that a figure is never returned; in consequence, no figure is displayed. This can be fixed by making sure your code returns a figure; or alternatively, save the figure in a variable and display it when it is convenient. For example:</p><pre><code class="language-julia">p = Gaston.Figure[]
for k = 1:5
    push!(p, plot(k*y))
end</code></pre><p>Now, <code>p[3]</code> returns the third plot (for example). Another way to force the figure to be rendered is to call <code>display()</code>:</p><pre><code class="language-julia"># all five figures are displayed
closeall()
for k = 1:5
    figure()
    display(plot(k*y))
end</code></pre><h2 id="How-does-gnuplot-report-errors?-1"><a class="docs-heading-anchor" href="#How-does-gnuplot-report-errors?-1">How does gnuplot report errors?</a><a class="docs-heading-anchor-permalink" href="#How-does-gnuplot-report-errors?-1" title="Permalink"></a></h2><p>Gnuplot&#39;s main drawback, from a usability standpoint, is that it is not a library; it is designed to be used interactively. Gaston simulates a user typing interactive commands in a gnuplot session. Gaston tries to catch any errors reported back by gnuplot.</p><p>An example of an error returned by gnuplot and caught by Gaston:</p><pre><code class="language-julia">using Gaston # hide
y = rand(20)
plot(y, plotstyle=&quot;linepoints&quot;)  # missing an &#39;s&#39;</code></pre><p>results in an error message like:</p><pre><code class="language-julia">┌ Warning: Gnuplot returned an error message:
│
│ gnuplot&gt; plot &#39;/tmp/jl_d8yIs9&#39; i 0  with linepoints
│                                                     ^
│          line 0: unrecognized plot type
│
└ @ Gaston ~/.julia/dev/Gaston/src/gaston_llplot.jl:172</code></pre><p>Gaston does its best effort to read and display any warnings or errors produced by gnuplot, and to recover gracefully. In some corner cases, it might happen that the communication link enters an unforeseen state and a restart is required. Please file a Gaston issue if you experience this.</p><h2 id="Support-1"><a class="docs-heading-anchor" href="#Support-1">Support</a><a class="docs-heading-anchor-permalink" href="#Support-1" title="Permalink"></a></h2><p>Please post support questions to <a href="https://discourse.julialang.org/tag/plotting">Julia&#39;s discuss forum</a>.</p><h2 id="Contributing-1"><a class="docs-heading-anchor" href="#Contributing-1">Contributing</a><a class="docs-heading-anchor-permalink" href="#Contributing-1" title="Permalink"></a></h2><p>Bug reports, suggestions and pull requests are welcome at <a href="https://github.com/mbaz/Gaston.jl">Gaston&#39;s github page</a></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../3d-gallery/">« 3-D Plots</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 23 June 2020 12:16">Tuesday 23 June 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
